@{
    ViewData["Title"] = "Account";
}
@model BankAccount.Models.Transaction;

<div class="text-center">
    <h1 class="display-4">Welcome @ViewBag.currentUser.FirstName @ViewBag.currentUser.LastName!</h1>
    <a href="/logout">Logout</a>
    <form href="/create-transaction" method="post">
        <div>
            <input type="hidden" name="UserId" value="@ViewBag.currentUser.UserId">
        </div>
        <div>
            <label asp-for='Amount'>Deposit / Withdraw</label>
            <input asp-for='Amount' type='number' step="0.01" />
            <span asp-validation-for='Amount' class='validation'></span>
        </div>
        <input type="submit" value="Submit">
    </form>
    <div>
        <p>Current Balance: @ViewBag.currentUser.CurrentBalance</p>
    </div>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>Amount</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var t in @ViewBag.sortedUserHistory)
                {
                    <tr>
                        <td>$@t.Amount</td>
                        <td>@t.CreatedAt</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>